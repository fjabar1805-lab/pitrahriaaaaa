<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loading Page with SweetAlert</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #e1bee7 100%);
      font-family: 'Quicksand', sans-serif;
      color: #7c6f64;
      transition: all 0.8s ease;
    }

    .loader-container {
      position: relative;
      width: 300px;
      height: 300px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      background: white;
    }

    .image-placeholder {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: #ba68c8;
      text-align: center;
      background: linear-gradient(45deg, #fce4ec, #f8bbd0);
      border: 2px dashed #ba68c8;
      flex-direction: column;
    }
    
    .image-placeholder.active {
      opacity: 1;
    }
    
    .image-placeholder .icon {
      font-size: 4rem;
      margin-bottom: 15px;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.1); opacity: 1; }
    }

    .loader-container img {
      width: 100%;
      height: 100%;
      border-radius: 15px;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }

    .loader-container img.active {
      opacity: 1;
    }

    .loader-container img.hidden {
      display: none;
    }

    .spinner {
      border: 6px solid #f8bbd0;
      border-top: 6px solid #ba68c8;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1.5s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .caption {
      text-align: center;
      font-size: 1.2rem;
      margin-top: 15px;
      height: 30px;
      color: #a58fcf;
      font-weight: 600;
    }

    .progress-bar {
      width: 300px;
      height: 6px;
      background: rgba(255,255,255,0.3);
      border-radius: 3px;
      margin: 10px 0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ba68c8, #f8bbd0);
      width: 0%;
      transition: width 0.3s ease;
      border-radius: 3px;
    }

    /* Typewriter Article Styles */
    .article-container {
      display: none;
      width: 100%;
      min-height: 100vh;
      padding: 40px 20px;
      background: white;
      color: #333;
      font-family: 'Courier Prime', monospace;
      line-height: 1.8;
      font-size: 16px;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      overflow-y: auto;
      animation: fadeInArticle 1s ease-in-out;
    }

    @keyframes fadeInArticle {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .article-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px;
      background: white;
      box-shadow: 0 0 30px rgba(0,0,0,0.1);
      border-radius: 10px;
    }

    .article-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 30px;
      text-align: center;
      color: #2c3e50;
      border-bottom: 3px solid #ba68c8;
      padding-bottom: 15px;
    }

    .article-text {
      font-size: 16px;
      line-height: 2;
      color: #333;
      text-align: justify;
      text-indent: 30px;
    }

    .article-text p {
      margin-bottom: 20px;
    }

    .typewriter-cursor {
      display: inline-block;
      width: 2px;
      height: 20px;
      background-color: #333;
      animation: blink 1s infinite;
      margin-left: 2px;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .back-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ba68c8;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      transition: all 0.3s ease;
      z-index: 1001;
    }

    .back-button:hover {
      background: #9c5aab;
      transform: translateY(-2px);
    }

    /* Custom SweetAlert styling */
    .custom-confirm-button {
      background-color: #a8d5ba !important;
      border: none !important;
      padding: 10px 24px !important;
      font-size: 1rem !important;
      border-radius: 8px !important;
      color: #fff !important;
      cursor: pointer !important;
      transition: background-color 0.3s ease !important;
    }
    
    .custom-confirm-button:hover {
      background-color: #8ec59d !important;
    }

    .button-caption {
      margin-top: 10px !important;
      font-size: 0.9rem !important;
      color: #6b5b50 !important;
      text-align: center !important;
      font-style: italic !important;
    }

    /* Animasi SweetAlert */
    @keyframes showRightLeft { 
      from { transform: translateX(100%) scale(0.8); opacity: 0; } 
      to { transform: translateX(0) scale(1); opacity: 1; } 
    }
    @keyframes hideRightLeft { 
      from { transform: translateX(0) scale(1); opacity: 1; } 
      to { transform: translateX(-100%) scale(0.8); opacity: 0; } 
    }
    .swal2-show-right-left { animation: showRightLeft 0.5s forwards; }
    .swal2-hide-right-left { animation: hideRightLeft 0.4s forwards; }

    @keyframes zoomIn { 
      from { transform: scale(0.5); opacity: 0; } 
      to { transform: scale(1); opacity: 1; } 
    }
    @keyframes zoomOut { 
      from { transform: scale(1); opacity: 1; } 
      to { transform: scale(0.5); opacity: 0; } 
    }
    .swal2-show-zoom-in { animation: zoomIn 0.5s forwards; }
    .swal2-hide-zoom-out { animation: zoomOut 0.4s forwards; }

    @keyframes flipIn { 
      from { transform: rotateY(90deg); opacity: 0; } 
      to { transform: rotateY(0deg); opacity: 1; } 
    }
    @keyframes flipOut { 
      from { transform: rotateY(0deg); opacity: 1; } 
      to { transform: rotateY(90deg); opacity: 0; } 
    }
    .swal2-show-flip { animation: flipIn 0.5s forwards; }
    .swal2-hide-flip { animation: flipOut 0.4s forwards; }

    /* Hidden state for main content */
    .main-content.hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="main-content">
    <div class="loader-container">
      <!-- Placeholder untuk fallback -->
      <div class="image-placeholder active" id="placeholder-1">
        <div class="icon">üå∏</div>
        <div>Loading Foto 1...</div>
      </div>
      <div class="image-placeholder" id="placeholder-2">
        <div class="icon">ü¶ã</div>
        <div>Loading Foto 2...</div>
      </div>
      <div class="image-placeholder" id="placeholder-3">
        <div class="icon">üå∫</div>
        <div>Loading Foto 3...</div>
      </div>
      <div class="image-placeholder" id="placeholder-4">
        <div class="icon">üíñ</div>
        <div>Loading Foto 4...</div>
      </div>
      
      <!-- Gambar asli -->
      <img src="images/pitrahriaaaaa1.jpg" alt="Foto 1" id="img-1" />
      <img src="images/pitrahriaaaaa2.jpg" alt="Foto 2" id="img-2" />
      <img src="images/pitrahriaaaaa3.jpg" alt="Foto 3" id="img-3" />
      <img src="images/pitrahriaaaaa4.jpg" alt="Foto 4" id="img-4" />
    </div>
    
    <div class="spinner"></div>
    <div class="caption">Loading... Bersabar ya!</div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progress"></div>
    </div>
  </div>

  <!-- Article Container -->
  <div class="article-container" id="articleContainer">
    <button class="back-button" onclick="goBackToMain()">‚Üê Kembali</button>
    <div class="article-content">
      <div class="article-title" id="articleTitle">Cerita Tentang Pitrahriaaaaa</div>
      <div class="article-text" id="articleText"></div>
    </div>
  </div>

  <script>
    const images = document.querySelectorAll('img');
    const placeholders = document.querySelectorAll('.image-placeholder');
    const caption = document.querySelector('.caption');
    const progress = document.getElementById('progress');
    const spinner = document.querySelector('.spinner');
    const mainContent = document.querySelector('.main-content');
    const articleContainer = document.getElementById('articleContainer');
    const articleText = document.getElementById('articleText');
    const articleTitle = document.getElementById('articleTitle');
    
    const captionsText = [
      "Loading... Sabar yaa pitrahriaaaaa! ü¶ã",
      "IYAAAA aku tau kamu ga suka disuruh sabar üå∏",
      "Sabar jangan cemberut sambil senyum dong cantik... üå∫",
      "Tuhkan selesai ga rugi kan sabar nya heheehe... üíñ"
    ];

    const sweetAlertMessages = [
      "üå∏ HALLO!! makasih yaa udah mau sabar sering sering dehh heheheeh",
      "ü¶ã Cantik cantik tadi fotonya yaaa, memang pitrahriaaaaa ini masyaallah sekali. bentar lagi sembuhhh, cepet sembuh yaaaa",
      "üå∫ Jangan gampang nyerah yaaaa, harus semangat terus mikirnya juga harus positif.",
      "üíñ Sebentar lagi sembuh bisa main kita bisa jalan-jalan. kamu harus semangat dan sering makan biar cepet jalan-jalan kitaaa yaaaaaa."
    ];

    const buttonCaptions = [
      "Pencet kalo kepo sama kelanjutanya",
      "Pencet sekali lagi udah selesai",
      "HAHAHA dikira gitu doang?? ya ngga dong, pencet lagi bawahnya",
      "udah?? ya belom dong masa gitu doang pencet lagi ini yang dibawah."
    ];

    // Article content - Anda bisa edit ini sesuai keinginan
    const articleContent = `
      Hari ini adalah hari yang istimewa untuk Pitrahriaaaaa. Setelah melalui berbagai rintangan dan tantangan, akhirnya semua berjalan dengan lancar.

      Perjalanan yang dimulai dengan penuh ketidakpastian, kini berakhir dengan kebahagiaan. Setiap langkah yang diambil membawa makna tersendiri, setiap detik yang berlalu adalah pembelajaran berharga.

      Kesabaran yang telah ditunjukkan selama ini patut diacungi jempol. Tidak mudah memang untuk tetap tegar di tengah badai kehidupan, namun Pitrahriaaaaa telah membuktikan bahwa kekuatan sejati datang dari dalam hati.

      Foto-foto indah yang telah kita lihat tadi adalah cerminan dari perjalanan hidup yang penuh warna. Setiap momen terabadikan dengan sempurna, menjadi kenangan yang tak akan terlupakan.

      Kini saatnya untuk melangkah ke fase berikutnya. Masa depan yang cerah menanti, dengan segala kemungkinan dan peluang yang tak terbatas. Semangat yang telah dibangun akan menjadi bekal untuk menghadapi hari-hari mendatang.

      Terima kasih telah mengikuti perjalanan ini dengan sabar. Kesabaran adalah kunci dari segala pencapaian, dan hari ini adalah bukti nyata dari filosofi tersebut.

      Sampai jumpa di petualangan selanjutnya, Pitrahriaaaaa!
    `;
    
    let currentIndex = 0;
    let loadedImages = [false, false, false, false];
    let imagesLoaded = 0;
    let slideshowCompleted = false;
    let slideshowInterval;

    // Typewriter effect function
    function typeWriter(element, text, speed = 50) {
      let i = 0;
      element.innerHTML = '';
      
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else {
          // Add blinking cursor at the end
          element.innerHTML += '<span class="typewriter-cursor"></span>';
        }
      }
      
      type();
    }

    // Cek loading gambar
    images.forEach((img, index) => {
      img.onload = function() {
        loadedImages[index] = true;
        imagesLoaded++;
        placeholders[index].style.display = 'none';
        
        if (index === 0) {
          img.classList.add('active');
        }
        
        if (imagesLoaded === 4) {
          startSlideshow();
        }
      };
      
      img.onerror = function() {
        loadedImages[index] = false;
        img.classList.add('hidden');
        
        if (index === 0 && !loadedImages[0]) {
          placeholders[0].classList.add('active');
        }
        
        if (imagesLoaded === 0) {
          startPlaceholderSlideshow();
        }
      };
    });

    function updateProgress() {
      const progressPercent = ((currentIndex + 1) / 4) * 100;
      progress.style.width = progressPercent + '%';
    }

    function changeSlide() {
      if (loadedImages[currentIndex]) {
        images[currentIndex].classList.remove('active');
      } else {
        placeholders[currentIndex].classList.remove('active');
      }
      
      currentIndex = (currentIndex + 1) % 4;
      
      if (loadedImages[currentIndex]) {
        images[currentIndex].classList.add('active');
      } else {
        placeholders[currentIndex].classList.add('active');
      }
      
      caption.textContent = captionsText[currentIndex];
      updateProgress();
      
      if (currentIndex === 0 && !slideshowCompleted) {
        slideshowCompleted = true;
        clearInterval(slideshowInterval);
        
        setTimeout(() => {
          startSweetAlertSequence();
        }, 2000);
      }
    }

    function startSlideshow() {
      caption.textContent = captionsText[0];
      updateProgress();
      slideshowInterval = setInterval(changeSlide, 3000);
    }

    function startPlaceholderSlideshow() {
      placeholders[0].classList.add('active');
      caption.textContent = captionsText[0];
      updateProgress();
      slideshowInterval = setInterval(changeSlide, 3000);
    }

    function startSweetAlertSequence() {
      spinner.style.display = 'none';
      caption.textContent = "üéâ Slideshow selesai! Siap untuk surprise?";
      
      setTimeout(() => {
        showSweetAlert(0);
      }, 1000);
    }

    function showSweetAlert(index) {
      if (index >= sweetAlertMessages.length) {
        // Setelah alert terakhir, tampilkan artikel
        showTypewriterArticle();
        return;
      }

      const animations = ['swal2-show-right-left', 'swal2-show-zoom-in', 'swal2-show-flip', 'swal2-show-right-left'];
      
      // Cek apakah ini alert terakhir (index 3)
      const isLastAlert = index === (sweetAlertMessages.length - 1);

      Swal.fire({
        title: `üåü Alert ke-${index + 1}`,
        html: `
          <p style="font-size: 1.1rem; margin-bottom: 15px;">${sweetAlertMessages[index]}</p>
          <div class="button-caption">${buttonCaptions[index]}</div>
        `,
        icon: 'success',
        showConfirmButton: true,
        confirmButtonText: isLastAlert ? 'Baca Cerita! üìñ' : 'LANJUT YAAA PITRAHRIAAAAA ‚û§',
        customClass: {
          popup: animations[index],
          confirmButton: 'custom-confirm-button'
        },
        allowOutsideClick: false,
        allowEscapeKey: false,
        buttonsStyling: false,
        background: '#fff',
        color: '#333'
      }).then((result) => {
        if (result.isConfirmed) {
          if (isLastAlert) {
            // Jika ini alert terakhir, langsung tampilkan artikel
            setTimeout(() => {
              showTypewriterArticle();
            }, 500);
          } else {
            // Jika bukan alert terakhir, lanjut ke alert berikutnya
            setTimeout(() => {
              showSweetAlert(index + 1);
            }, 500);
          }
        }
      });
    }

    function showTypewriterArticle() {
      // Hide main content
      mainContent.classList.add('hidden');
      
      // Change body background to white
      document.body.style.background = 'white';
      
      // Show article container
      articleContainer.style.display = 'block';
      
      // Start typewriter effect after a short delay
      setTimeout(() => {
        typeWriter(articleText, articleContent, 30); // 30ms per character
      }, 500);
    }

    function goBackToMain() {
      // Hide article
      articleContainer.style.display = 'none';
      
      // Show main content
      mainContent.classList.remove('hidden');
      
      // Restore original background
      document.body.style.background = 'linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #e1bee7 100%)';
      
      // Reset caption
      caption.textContent = "üå∏ Kembali ke halaman utama! üå∏";
    }

    // Mulai dengan placeholder jika tidak ada gambar yang dimuat setelah 2 detik
    setTimeout(() => {
      if (imagesLoaded === 0) {
        startPlaceholderSlideshow();
      }
    }, 2000);
  </script>
</body>
</html>
