<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loading Page with SweetAlert</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #e1bee7 100%);
      font-family: 'Quicksand', sans-serif;
      color: #7c6f64;
      transition: all 0.8s ease;
    }

    .loader-container {
      position: relative;
      width: 300px;
      height: 300px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      background: white;
    }

    .image-placeholder {
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: #ba68c8;
      text-align: center;
      background: linear-gradient(45deg, #fce4ec, #f8bbd0);
      border: 2px dashed #ba68c8;
      flex-direction: column;
    }
    
    .image-placeholder.active {
      opacity: 1;
    }
    
    .image-placeholder .icon {
      font-size: 4rem;
      margin-bottom: 15px;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.1); opacity: 1; }
    }

    .loader-container img {
      width: 100%;
      height: 100%;
      border-radius: 15px;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }

    .loader-container img.active {
      opacity: 1;
    }

    .loader-container img.hidden {
      display: none;
    }

    .spinner {
      border: 6px solid #f8bbd0;
      border-top: 6px solid #ba68c8;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1.5s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .caption {
      text-align: center;
      font-size: 1.2rem;
      margin-top: 15px;
      height: 30px;
      color: #a58fcf;
      font-weight: 600;
    }

    .progress-bar {
      width: 300px;
      height: 6px;
      background: rgba(255,255,255,0.3);
      border-radius: 3px;
      margin: 10px 0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ba68c8, #f8bbd0);
      width: 0%;
      transition: width 0.3s ease;
      border-radius: 3px;
    }

    /* Typewriter Article Styles */
    .article-container {
      display: none;
      width: 100%;
      min-height: 100vh;
      padding: 40px 20px;
      background: white;
      color: #333;
      font-family: 'Courier Prime', monospace;
      line-height: 1.8;
      font-size: 16px;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      overflow-y: auto;
      animation: fadeInArticle 1s ease-in-out;
    }

    @keyframes fadeInArticle {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .article-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px;
      background: white;
      box-shadow: 0 0 30px rgba(0,0,0,0.1);
      border-radius: 10px;
    }

    .article-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 30px;
      text-align: center;
      color: #2c3e50;
      border-bottom: 3px solid #ba68c8;
      padding-bottom: 15px;
    }

    /* Style untuk foto artikel */
    .article-image {
      width: 100%;
      max-width: 400px;
      height: auto;
      border-radius: 15px;
      margin: 20px auto;
      display: block;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      object-fit: cover;
      border: 3px solid #ba68c8;
    }

    .article-text {
      font-size: 16px;
      line-height: 2;
      color: #333;
      text-align: justify;
      text-indent: 30px;
    }

    .article-text p {
      margin-bottom: 20px;
    }

    .typewriter-cursor {
      display: inline-block;
      width: 2px;
      height: 20px;
      background-color: #333;
      animation: blink 1s infinite;
      margin-left: 2px;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .back-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ba68c8;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      font-family: 'Quicksand', sans-serif;
      font-weight: 600;
      transition: all 0.3s ease;
      z-index: 1001;
    }

    .back-button:hover {
      background: #9c5aab;
      transform: translateY(-2px);
    }

    /* Custom SweetAlert styling */
    .custom-confirm-button {
      background-color: #a8d5ba !important;
      border: none !important;
      padding: 10px 24px !important;
      font-size: 1rem !important;
      border-radius: 8px !important;
      color: #fff !important;
      cursor: pointer !important;
      transition: background-color 0.3s ease !important;
    }
    
    .custom-confirm-button:hover {
      background-color: #8ec59d !important;
    }

    .button-caption {
      margin-top: 10px !important;
      font-size: 0.9rem !important;
      color: #6b5b50 !important;
      text-align: center !important;
      font-style: italic !important;
    }

    /* Animasi SweetAlert */
    @keyframes showRightLeft { 
      from { transform: translateX(100%) scale(0.8); opacity: 0; } 
      to { transform: translateX(0) scale(1); opacity: 1; } 
    }
    @keyframes hideRightLeft { 
      from { transform: translateX(0) scale(1); opacity: 1; } 
      to { transform: translateX(-100%) scale(0.8); opacity: 0; } 
    }
    .swal2-show-right-left { animation: showRightLeft 0.5s forwards; }
    .swal2-hide-right-left { animation: hideRightLeft 0.4s forwards; }

    @keyframes zoomIn { 
      from { transform: scale(0.5); opacity: 0; } 
      to { transform: scale(1); opacity: 1; } 
    }
    @keyframes zoomOut { 
      from { transform: scale(1); opacity: 1; } 
      to { transform: scale(0.5); opacity: 0; } 
    }
    .swal2-show-zoom-in { animation: zoomIn 0.5s forwards; }
    .swal2-hide-zoom-out { animation: zoomOut 0.4s forwards; }

    @keyframes flipIn { 
      from { transform: rotateY(90deg); opacity: 0; } 
      to { transform: rotateY(0deg); opacity: 1; } 
    }
    @keyframes flipOut { 
      from { transform: rotateY(0deg); opacity: 1; } 
      to { transform: rotateY(90deg); opacity: 0; } 
    }
    .swal2-show-flip { animation: flipIn 0.5s forwards; }
    .swal2-hide-flip { animation: flipOut 0.4s forwards; }

    /* Hidden state for main content */
    .main-content.hidden {
      display: none;
    }

    /* Debug info */
    .debug-info {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-size: 12px;
      z-index: 1000;
      max-width: 300px;
    }

    /* Login Styles */
    .login-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      z-index: 10000;
    }

    .login-container.hidden {
      display: none;
    }

    .login-box {
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      text-align: center;
      width: 100%;
      max-width: 400px;
      backdrop-filter: blur(10px);
      animation: loginFadeIn 1s ease-out;
    }

    @keyframes loginFadeIn {
      from {
        opacity: 0;
        transform: translateY(-50px) scale(0.9);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .login-title {
      font-size: 2rem;
      color: #333;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .login-subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 1rem;
    }

    .login-form {
      margin-bottom: 20px;
    }

    .password-input {
      width: 100%;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 10px;
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 20px;
      font-family: 'Quicksand', sans-serif;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .password-input:focus {
      outline: none;
      border-color: #ba68c8;
      box-shadow: 0 0 10px rgba(186, 104, 200, 0.3);
    }

    .login-button {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #ba68c8, #9c5aab);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Quicksand', sans-serif;
    }

    .login-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(186, 104, 200, 0.4);
    }

    .login-hint {
      color: #888;
      font-size: 0.9rem;
      font-style: italic;
    }

    .login-error {
      color: #e74c3c;
      margin-top: 15px;
      font-weight: 600;
      animation: shake 0.5s ease-in-out;
    }

    @keyframes shake {
      0%, 20%, 40%, 60%, 80% { transform: translateX(0); }
      10%, 30%, 50%, 70% { transform: translateX(-5px); }
      15%, 35%, 55%, 75% { transform: translateX(5px); }
    }
  </style>
</head>
<body>
  <!-- Debug info -->
  <div class="debug-info" id="debugInfo">
    Status: Loading...
  </div>

  <!-- Login Container -->
  <div class="login-container" id="loginContainer">
    <div class="login-box">
      <h2 class="login-title">🔐 Login Required</h2>
      <p class="login-subtitle">Masukkan password untuk mengakses halaman</p>
      <div class="login-form">
        <input type="password" id="passwordInput" placeholder="Masukkan password..." class="password-input" />
        <button onclick="checkPassword()" class="login-button">Login</button>
      </div>
      <div class="login-hint">Hint: 6 digit angka special untuk Pitrahriaaaaa 💖</div>
    </div>
  </div>

  <div class="main-content hidden">
    <div class="loader-container">
      <!-- Placeholder untuk fallback -->
      <div class="image-placeholder active" id="placeholder-1">
        <div class="icon">🌸</div>
        <div>Loading Foto 1...</div>
      </div>
      <div class="image-placeholder" id="placeholder-2">
        <div class="icon">🦋</div>
        <div>Loading Foto 2...</div>
      </div>
      <div class="image-placeholder" id="placeholder-3">
        <div class="icon">🌺</div>
        <div>Loading Foto 3...</div>
      </div>
      <div class="image-placeholder" id="placeholder-4">
        <div class="icon">💖</div>
        <div>Loading Foto 4...</div>
      </div>
      
      <!-- Gambar asli dengan path yang benar -->
      <img src="images/pitrahriaaaaa1.jpg" alt="Foto 1" id="img-1" />
      <img src="images/pitrahriaaaaa2.jpg" alt="Foto 2" id="img-2" />
      <img src="images/pitrahriaaaaa3.jpg" alt="Foto 3" id="img-3" />
      <img src="images/pitrahriaaaaa4.jpg" alt="Foto 4" id="img-4" />
    </div>
    
    <div class="spinner"></div>
    <div class="caption">Loading... Bersabar ya!</div>
    
    <div class="progress-bar">
      <div class="progress-fill" id="progress"></div>
    </div>
  </div>

  <!-- Article Container -->
  <div class="article-container" id="articleContainer">
    <button class="back-button" onclick="goBackToMain()">← Kembali</button>
    <div class="article-content">
      <div class="article-title" id="articleTitle">Cerita Tentang Pitrahriaaaaa</div>
      
      <!-- Foto artikel ditambahkan di sini setelah garis ungu -->
      <img src="images/pitrahriaaaaa_artikel.jpg" alt="Pitrahriaaaaa" class="article-image" id="articleImage" />
      
      <div class="article-text" id="articleText"></div>
    </div>
  </div>

  <script>
    const images = document.querySelectorAll('img:not(.article-image)'); // Exclude article image from slideshow
    const placeholders = document.querySelectorAll('.image-placeholder');
    const caption = document.querySelector('.caption');
    const progress = document.getElementById('progress');
    const spinner = document.querySelector('.spinner');
    const mainContent = document.querySelector('.main-content');
    const articleContainer = document.getElementById('articleContainer');
    const articleText = document.getElementById('articleText');
    const articleTitle = document.getElementById('articleTitle');
    const debugInfo = document.getElementById('debugInfo');
    
    const captionsText = [
      "Loading... Sabar yaa pitrahriaaaaa! 🦋",
      "IYAAAA aku tau kamu ga suka disuruh sabar 🌸",
      "Sabar jangan cemberut sambil senyum dong cantik... 🌺",
      "Tuhkan selesai ga rugi kan sabar nya heheehe... 💖"
    ];

    const sweetAlertMessages = [
      "🌸 HALLO!! makasih yaa udah mau sabar sering sering dehh heheheeh",
      "🦋 Cantik cantik tadi fotonya yaaa, memang pitrahriaaaaa ini masyaallah sekali. bentar lagi sembuhhh, cepet sembuh yaaaa",
      "🌺 Jangan gampang nyerah yaaaa, harus semangat terus mikirnya juga harus positif.",
      "💖 Sebentar lagi sembuh bisa main kita bisa jalan-jalan. kamu harus semangat dan sering makan biar cepet jalan-jalan kitaaa yaaaaaa."
    ];

    const buttonCaptions = [
      "Pencet kalo kepo sama kelanjutanya",
      "Pencet sekali lagi udah selesai",
      "HAHAHA dikira gitu doang?? ya ngga dong, pencet lagi bawahnya",
      "udah?? ya belom dong masa gitu doang pencet lagi ini yang dibawah."
    ];

    // Article content
    const articleContent = `
      Hari ini adalah hari yang istimewa untuk Pitrahriaaaaa. Setelah melalui berbagai rintangan dan tantangan, akhirnya semua berjalan dengan lancar.

      Perjalanan yang dimulai dengan penuh ketidakpastian, kini berakhir dengan kebahagiaan. Setiap langkah yang diambil membawa makna tersendiri, setiap detik yang berlalu adalah pembelajaran berharga.

      Kesabaran yang telah ditunjukkan selama ini patut diacungi jempol. Tidak mudah memang untuk tetap tegar di tengah badai kehidupan, namun Pitrahriaaaaa telah membuktikan bahwa kekuatan sejati datang dari dalam hati.

      Foto-foto indah yang telah kita lihat tadi adalah cerminan dari perjalanan hidup yang penuh warna. Setiap momen terabadikan dengan sempurna, menjadi kenangan yang tak akan terlupakan.

      Kini saatnya untuk melangkah ke fase berikutnya. Masa depan yang cerah menanti, dengan segala kemungkinan dan peluang yang tak terbatas. Semangat yang telah dibangun akan menjadi bekal untuk menghadapi hari-hari mendatang.

      Terima kasih telah mengikuti perjalanan ini dengan sabar. Kesabaran adalah kunci dari segala pencapaian, dan hari ini adalah bukti nyata dari filosofi tersebut.

      Sampai jumpa di petualangan selanjutnya, Pitrahriaaaaa!
    `;
    
    let currentIndex = 0;
    let loadedImages = [false, false, false, false];
    let imagesLoaded = 0;
    let slideshowCompleted = false;
    let slideshowInterval;

    // Login functionality
    const correctPassword = "033124";
    const loginContainer = document.getElementById('loginContainer');
    const passwordInput = document.getElementById('passwordInput');

    // Focus on password input when page loads
    window.addEventListener('load', function() {
      passwordInput.focus();
    });

    // Allow Enter key to submit password
    passwordInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        checkPassword();
      }
    });

    function checkPassword() {
      const enteredPassword = passwordInput.value;
      
      if (enteredPassword === correctPassword) {
        // Correct password - hide login and show main content
        loginContainer.style.animation = 'loginFadeOut 0.5s ease-in forwards';
        
        setTimeout(() => {
          loginContainer.classList.add('hidden');
          mainContent.classList.remove('hidden');
          updateDebug('Login successful! Loading images...');
        }, 500);
        
      } else {
        // Wrong password - show error
        const existingError = document.querySelector('.login-error');
        if (existingError) {
          existingError.remove();
        }
        
        const errorDiv = document.createElement('div');
        errorDiv.className = 'login-error';
        errorDiv.textContent = '❌ Password salah! Coba lagi...';
        
        document.querySelector('.login-form').appendChild(errorDiv);
        passwordInput.value = '';
        passwordInput.focus();
        
        // Remove error after 3 seconds
        setTimeout(() => {
          if (errorDiv.parentNode) {
            errorDiv.remove();
          }
        }, 3000);
      }
    }

    // Add fadeOut animation for login
    const style = document.createElement('style');
    style.textContent = `
      @keyframes loginFadeOut {
        from {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
        to {
          opacity: 0;
          transform: translateY(-50px) scale(0.9);
        }
      }
    `;
    document.head.appendChild(style);

    // Debug function
    function updateDebug(message) {
      debugInfo.innerHTML = message;
      console.log('Debug:', message);
    }

    // Typewriter effect function
    function typeWriter(element, text, speed = 50) {
      let i = 0;
      element.innerHTML = '';
      
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else {
          element.innerHTML += '<span class="typewriter-cursor"></span>';
        }
      }
      
      type();
    }

    // Cek loading gambar dengan debug info
    images.forEach((img, index) => {
      updateDebug(`Trying to load: ${img.src}`);
      
      img.onload = function() {
        loadedImages[index] = true;
        imagesLoaded++;
        updateDebug(`Image ${index + 1} loaded successfully. Total: ${imagesLoaded}/4`);
        
        placeholders[index].style.display = 'none';
        
        if (index === 0) {
          img.classList.add('active');
        }
        
        if (imagesLoaded === 4) {
          updateDebug('All images loaded! Starting slideshow...');
          startSlideshow();
        }
      };
      
      img.onerror = function() {
        loadedImages[index] = false;
        updateDebug(`Failed to load image ${index + 1}: ${img.src}`);
        img.classList.add('hidden');
        
        if (index === 0 && !loadedImages[0]) {
          placeholders[0].classList.add('active');
        }
      };
    });

    function updateProgress() {
      const progressPercent = ((currentIndex + 1) / 4) * 100;
      progress.style.width = progressPercent + '%';
    }

    function changeSlide() {
      if (loadedImages[currentIndex]) {
        images[currentIndex].classList.remove('active');
      } else {
        placeholders[currentIndex].classList.remove('active');
      }
      
      currentIndex = (currentIndex + 1) % 4;
      
      if (loadedImages[currentIndex]) {
        images[currentIndex].classList.add('active');
      } else {
        placeholders[currentIndex].classList.add('active');
      }
      
      caption.textContent = captionsText[currentIndex];
      updateProgress();
      
      if (currentIndex === 0 && !slideshowCompleted) {
        slideshowCompleted = true;
        clearInterval(slideshowInterval);
        updateDebug('Slideshow completed! Starting alerts...');
        
        setTimeout(() => {
          startSweetAlertSequence();
        }, 2000);
      }
    }

    function startSlideshow() {
      caption.textContent = captionsText[0];
      updateProgress();
      slideshowInterval = setInterval(changeSlide, 3000);
    }

    function startPlaceholderSlideshow() {
      updateDebug('Starting placeholder slideshow (no images loaded)');
      placeholders[0].classList.add('active');
      caption.textContent = captionsText[0];
      updateProgress();
      slideshowInterval = setInterval(changeSlide, 3000);
    }

    function startSweetAlertSequence() {
      spinner.style.display = 'none';
      caption.textContent = "🎉 Slideshow selesai! Siap untuk surprise?";
      debugInfo.style.display = 'none'; // Hide debug info
      
      setTimeout(() => {
        showSweetAlert(0);
      }, 1000);
    }

    function showSweetAlert(index) {
      if (index >= sweetAlertMessages.length) {
        // Tidak langsung show artikel, tapi tunggu delay untuk memastikan alert hilang
        setTimeout(() => {
          showTypewriterArticle();
        }, 300);
        return;
      }

      const animations = ['swal2-show-right-left', 'swal2-show-zoom-in', 'swal2-show-flip'];
      const isLastAlert = index === (sweetAlertMessages.length - 1);

      Swal.fire({
        title: `🌟 Alert ke-${index + 1}`,
        html: `
          <p style="font-size: 1.1rem; margin-bottom: 15px;">${sweetAlertMessages[index]}</p>
          <div class="button-caption">${buttonCaptions[index]}</div>
        `,
        icon: 'success',
        showConfirmButton: true,
        confirmButtonText: isLastAlert ? 'Baca Cerita! 📖' : 'LANJUT YAAA PITRAHRIAAAAA ➤',
        customClass: {
          popup: animations[index],
          confirmButton: 'custom-confirm-button'
        },
        allowOutsideClick: false,
        allowEscapeKey: false,
        buttonsStyling: false,
        background: '#fff',
        color: '#333'
      }).then((result) => {
        if (result.isConfirmed) {
          if (isLastAlert) {
            // Pastikan alert tertutup sepenuhnya sebelum show artikel
            setTimeout(() => {
              showTypewriterArticle();
            }, 500);
          } else {
            setTimeout(() => {
              showSweetAlert(index + 1);
            }, 300);
          }
        }
      });
    }

    function showTypewriterArticle() {
      // Pastikan semua SweetAlert tertutup dengan delay yang cukup
      Swal.close();
      
      // Tunggu delay lebih lama untuk memastikan alert benar-benar hilang
      setTimeout(() => {
        mainContent.classList.add('hidden');
        document.body.style.background = 'white';
        articleContainer.style.display = 'block';
        
        setTimeout(() => {
          typeWriter(articleText, articleContent, 30);
        }, 500);
      }, 800); // Delay diperbesar dari 100ms ke 800ms
    }

    function goBackToMain() {
      articleContainer.style.display = 'none';
      mainContent.classList.remove('hidden');
      document.body.style.background = 'linear-gradient(135deg, #fce4ec 0%, #f8bbd0 50%, #e1bee7 100%)';
      caption.textContent = "🌸 Kembali ke halaman utama! 🌸";
      debugInfo.style.display = 'block';
    }

    // Mulai dengan placeholder jika tidak ada gambar yang dimuat setelah 3 detik
    setTimeout(() => {
      if (imagesLoaded === 0) {
        updateDebug('No images loaded after 3 seconds, starting placeholder slideshow');
        startPlaceholderSlideshow();
      }
    }, 3000);

    // Initial debug info
    updateDebug('Page loaded. Attempting to load images...');
  </script>
</body>
</html>
